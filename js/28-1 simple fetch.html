<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button>Get Joke</button>
    <h3 class="joke-title"></h3>
    <p class="joke-body"></p>
    <script>
        
        document.querySelector("button").addEventListener('click', getJoke);

        function getJoke(){
            fetch("https://api.jokes.one/jod").then((res) =>{
                res.json().then((data) =>{
                    const title = document.querySelector(".joke-title");
                    title.innerText = data.contents.jokes[0].joke.title;
                    const body = document.querySelector(".joke-body");
                    body.innerText = data.contents.jokes[0].joke.text;
                });
            }).catch((res) =>{
                console.log(res);
            });
        }

        // function getJoke(){
        //     const jokeReq = new XMLHttpRequest();

        //     jokeReq.addEventListener('load', function(){
        //         const data = JSON.parse(this.responseText);
        //         console.log(data);
        //         const title = document.querySelector(".joke-title");
        //         title.innerText = data.contents.jokes[0].joke.title;
        //         const body = document.querySelector(".joke-body");
        //         body.innerText = data.contents.jokes[0].joke.text;
        //     });

        //     jokeReq.addEventListener('error', function(){
        //         console.log("Could not get joke!");
        //     });

        //     jokeReq.open('GET', "https://api.jokes.one/jod");
        //     jokeReq.send();
        // }
    </script>
</body>
</html>